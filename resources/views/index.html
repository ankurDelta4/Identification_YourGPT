<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Home Page</h1>
    <form>
        <label for="name" >Name:</label>
        <input type="text" id="name" name="name" placeholder="Enter your name">

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" placeholder="Enter your email">

        <label for="phone">Phone:</label>   
        <input type="tel" id="phone" name="phone" placeholder="Enter your phone number">

        <label for="Unique ID">Unique ID:</label>
        <input type="text" id="unique_id" name="unique_id" placeholder="Enter your unique ID">


        <button id="submitButton">Submit</button>
    </form>

</body>
<script src="https://widget.yourgpt.ai/script.js" id="yourgpt-chatbot" data-widget="a584ebf8-fef4-48d2-84ed-ee4b7942d6e4"> </script>

<script>
  // document on load
    window.addEventListener("DOMContentLoaded", function() {

    // Get the data from form elements
        let name;
        let email;
        let phone;
        let uniqueId;

        const submitButton = document.getElementById("submitButton");
        submitButton.addEventListener("click", function(event) {
            event.preventDefault(); // Prevent the default form submission

             name = document.getElementById("name").value;
             email = document.getElementById("email").value;
             phone = document.getElementById("phone").value;
             uniqueId = document.getElementById("unique_id").value;

            // Log the data to the console
            console.log("Name:", name);
            console.log("Email:", email);
            console.log("Phone:", phone);
            console.log("Unique ID:", uniqueId);

        });


    // Wait for the chatbot to be ready
    console.log("Chatbot is ready");

    $yourgptChatbot.on("init", function() {

        console.log("Chatbot initialized");

        $yourgptChatbot.set("contact:data", {
            email: email,
            phone:  `+91${phone}`,
            name: name,
            ext_user_id: uniqueId,
            user_hash: "4ce29d8e8867bae5671ffc507d608b2b5a0ec7b84d050ecb72713536c70d707b"
        });

    });
    $yourgptChatbot.on("error", function() {
        console.log("Chatbot error");
    });

});
    </script>
</html>